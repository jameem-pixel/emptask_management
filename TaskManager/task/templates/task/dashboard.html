
{% extends 'task/supplier.html' %}
{% include 'task/navbar.html'%}
{% load static %}
{% block content %}

<a href="#customers">Assigned</a>
<a href="#customers">In progress</a>
<a href="#customers">Completed</a>
<a href="#customers">Hold</a>



<h4>Hye {{request.user}},here you can set your task status...</h4>
<br>
<form action="" method="POST">
    {% csrf_token %}
    <h6>Select task: {{st_form.taskprovider}}</h6>
    <h6>Select status: {{st_form.status}}</h6>
    <h6>Enter completion date : {{st_form.completeddate}}</h6>
    
    {% for mess in messages%}
    {{mess}}
    {% endfor %}
<button>
    <input class="btn login_btn" type="submit" value="Submit">
</button>

</form>

<br>
<button><h3><a style="color: #ffffff;
    text-decoration: none;" href="{% url 'common' %}">Report Generator</a></h3></button>
<br>
<h2>Today's Task List</h2>
<br>
<h3>Assigned</h3>
<table id ="" class="">
    <tr>
    <th >User ID</th>
    <th>Task ID</th>
    <th>Priority</th>
    <th >Process</th>
    <th >Requested from</th>
    <th >Requested by</th>
    <th >Task title</th>
    <th>Mail subject</th>
    <th>Assigned Date</th>
    <th>Update status</th>
    </tr>
    {% for i in emp %}
    
    <tr>
    <td>{{ i.taskprovider.employee.id }}</td>
    <td>{{ i.taskprovider.id }}</td>
    <td>{{i.taskprovider.priority}}</td>
    <td>{{i.taskprovider.process}}</td>
    <td>{{i.taskprovider.requested_from}}</td>
    <td>{{i.taskprovider.requested_by}}</td>
    <td>{{ i.taskprovider.title }}</td>
    <td>{{ i.taskprovider.subject }}</td>
    <td>{{ i.taskprovider.date }}</td>
    <td><a href="/updatetask/{{i.id}}/">UPDATE</a></td>
    </tr>
    {% endfor  %}
</table>
<br>
<hr>
    {% if emp.has_previous%}
        <a href="?page=1">&laquo First</a> 
        <a href="?page={{emp.previous_page_number }}">Previous</a> 
    {% endif %}
    page number {{emp.number}} of {{emp.paginator.num_pages}}
    {% if emp.has_next %}
        <a href="?page={{emp.next_page_number }}">Next page</a>
        <a href="?page={{emp.paginator.num_pages}}">Last &raquo</a>
    {% endif %}
    <hr>
<h3>My status</h3>
<table id="">
    <tr>
        <th >User ID</th>
        <th>Task ID</th>
        <th>Title</th>
        <th>Status</th>
        <th>Completion date</th>
    </tr>
    {% for i in emp %}
    
        
    <tr>
        <td>{{ i.taskprovider.employee.id }}</td>
        <td>{{ i.taskprovider.id }}</td>
        <td>{{ i.taskprovider.title }}</td>
        <td>{{i}}</td>
        <td>{{i.completeddate}}</td>
    </tr>
    {% endfor  %}
</table>
    <hr>
    {% if emp.has_previous%}
        <a href="?page=1">&laquo First</a> 
        <a href="?page={{emp.previous_page_number }}">Previous</a> 
    {% endif %}
    page number {{emp.number}} of {{emp.paginator.num_pages}}
    {% if emp.has_next %}
        <a href="?page={{emp.next_page_number }}">Next page</a>
        <a href="?page={{emp.paginator.num_pages}}">Last &raquo</a>
    {% endif %}
    <hr>
    <h3>Completed</h3>
    <table id ="" class="">
        <tr>
        <th >User ID</th>
        <th>Task ID</th>
        <th>Priority</th>
        <th >Process</th>
        <th >Requested from</th>
        <th >Requested by</th>
        <th >Task title</th>
        <th>Mail subject</th>
        <th>Assigned Date</th>
        <th>Completion Date</th>
        </tr>
        {% for i in tkc %}
        
        <tr>
        <td>{{ i.taskprovider.employee.id }}</td>
        <td>{{ i.taskprovider.id }}</td>
        <td>{{i.taskprovider.priority}}</td>
        <td>{{i.taskprovider.process}}</td>
        <td>{{i.taskprovider.requested_from}}</td>
        <td>{{i.taskprovider.requested_by}}</td>
        <td>{{ i.taskprovider.title }}</td>
        <td>{{ i.taskprovider.subject }}</td>
        <td>{{ i.taskprovider.date }}</td>
        <td>{{ i.completeddate }}</td>
        
        </tr>
        {% endfor  %}
    </table>
        <hr>
        {% if tkc.has_previous%}
            <a href="?page=1">&laquo First</a> 
            <a href="?page={{tkc.previous_page_number }}">Previous</a> 
        {% endif %}
        page number {{tkc.number}} of {{tkc.paginator.num_pages}}
        {% if tkc.has_next %}
            <a href="?page={{tkc.next_page_number }}">Next page</a>
            <a href="?page={{tkc.paginator.num_pages}}">Last &raquo</a>
        {% endif %}
        <hr>
    <h3>In Progress</h3>
<table id ="" class="">
    <tr>
    <th >User ID</th>
    <th>Task ID</th>
    <th>Priority</th>
    <th >Process</th>
    <th >Requested from</th>
    <th >Requested by</th>
    <th >Task title</th>
    <th>Mail subject</th>
    <th>Assigned Date</th>
    <th>Completion Date</th>
    </tr>
    {% for i in tkinp %}
    
    <tr>
    <td>{{ i.taskprovider.employee.id }}</td>
    <td>{{ i.taskprovider.id }}</td>
    <td>{{i.taskprovider.priority}}</td>
    <td>{{i.taskprovider.process}}</td>
    <td>{{i.taskprovider.requested_from}}</td>
    <td>{{i.taskprovider.requested_by}}</td>
    <td>{{ i.taskprovider.title }}</td>
    <td>{{ i.taskprovider.subject }}</td>
    <td>{{ i.taskprovider.date }}</td>
    <td>{{ i.completeddate }}</td>
    
    </tr>
    {% endfor  %}
</table>
    <hr>
    {% if tkinp.has_previous%}
        <a href="?page=1">&laquo First</a> 
        <a href="?page={{tkinp.previous_page_number }}">Previous</a> 
    {% endif %}
    page number {{tkinp.number}} of {{tkinp.paginator.num_pages}}
    {% if tkinp.has_next %}
        <a href="?page={{tkinp.next_page_number }}">Next page</a>
        <a href="?page={{tkinp.paginator.num_pages}}">Last &raquo</a>
    {% endif %}
    <hr>
    <hr>
    <h3>Hold</h3>
    <table id ="" class="">
        <tr>
        <th >User ID</th>
        <th>Task ID</th>
        <th>Priority</th>
        <th >Process</th>
        <th >Requested from</th>
        <th >Requested by</th>
        <th >Task title</th>
        <th>Mail subject</th>
        <th>Assigned Date</th>
        <th>Completion Date</th>
        </tr>
        {% for i in tkh %}
        
        <tr>
        <td>{{ i.taskprovider.employee.id }}</td>
        <td>{{ i.taskprovider.id }}</td>
        <td>{{i.taskprovider.priority}}</td>
        <td>{{i.taskprovider.process}}</td>
        <td>{{i.taskprovider.requested_from}}</td>
        <td>{{i.taskprovider.requested_by}}</td>
        <td>{{ i.taskprovider.title }}</td>
        <td>{{ i.taskprovider.subject }}</td>
        <td>{{ i.taskprovider.date }}</td>
        <td>{{ i.completeddate }}</td>
        
        </tr>
        {% endfor  %}
    </table>
        <hr>
        {% if tkh.has_previous%}
            <a href="?page=1">&laquo First</a> 
            <a href="?page={{tkh.previous_page_number }}">Previous</a> 
        {% endif %}
        page number {{tkh.number}} of {{tkh.paginator.num_pages}}
        {% if tkh.has_next %}
            <a href="?page={{tkh.next_page_number }}">Next page</a>
            <a href="?page={{tkh.paginator.num_pages}}">Last &raquo</a>
        {% endif %}
        <hr>


{% endblock %}